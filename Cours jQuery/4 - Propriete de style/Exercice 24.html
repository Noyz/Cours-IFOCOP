<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8"/>
		<title>jQuery : Exercice 24</title>
		<link rel="stylesheet" href="../src/styles1.css" type="text/css"/>
            <style>
            #cube {
                  height:200px;
                  width:200px;
                  position:absolute;
                  top:0px;
                  left: 0px;  
            }

            .vert{
                  background-color:green;
                  width:50px;
            }

            .blue {
                  background-color:blue;
                  height: 90px;
            }

            .rouge{
                  .background-color: red;
                  border-radius:50px;
            }

            .jaune {
                  background-color: yellow;
            }
            </style>
		<script type="text/javascript" src="../jquery-1.11.3.js"></script>
		<script type="text/javascript">
      /*********************************
      ***********PRESENTATION***********
      **********************************
      offset() : renvoie ou fixe la position d'un élément par rapport au sommet et au côté gauche du document.
      position() : renvoie la position d'un élément par rapport au sommet et au côté gauche de l'élément parent.
      */

      /**********************************
      *************EXERCICES*************
      ***********************************
      Reprenez le code de l'exercice 20 en gérant la position grâce à offset() et/ou position().

      Utilisez les méthodes keyup(), keydown(), offset() et/ou position().*/

      $(document).ready(function(){
            var idInterval; 
            var addLeft = 0;
            var addUp = 0;
            function goLeft(){
                  addLeft -= 7;
                  $('#cube').offset({"top": addUp,"left":addLeft});
            };
             function goRight (){
                  addLeft += 7;
                  $('#cube').offset({"top": addUp,"left":addLeft});          
            };
           function goUp(){
                  addUp -= 7;  
                  $('#cube').offset({"top": addUp,"left":addLeft});      
            };
           function goDown (){
                  addUp += 7; 
                  $('#cube').offset({"top": addUp,"left":addLeft});   
            };
            function changeColor(){
                        var interrupteur = true ;
                        if(interrupteur){
                              var time = setInterval(function(){
                                    i++;
                                    var rouge = setTimeout(function(){
                                          $('#cube').css('background-color', 'red');
                                    }, 1000);

                                    var vert = setTimeout(function(){
                                          $('#cube').css('background-color', 'green');
                                    }, 3000);

                                    var blue = setTimeout(function(){
                                          $('#cube').css('background-color', 'blue');
                                    }, 6000);

                                    var jaune = setTimeout(function(){
                                          $('#cube').css('background-color', 'jaune');
                                    }, 7000);
                              }, 10000);
                        interrupteur = false;
                        }
                        return time;
                  };

                  var i = 0;
                  $(document).keydown(function(event){
                        var code = event.keyCode;
                        
                        switch(code){
                              case 37 : 
                              goLeft();    
                              
                              break;
                              case 38 : 
                              goUp();
                                                                
                              break;
                              case 39 : 
                              goRight();
                               
                              break;s
                              case 40 : 
                              goDown();
                                  
                              break;
                        };
                  });

                  /*$(document).keyup(function(){
                        clearInterval(idInterval);
                        console.log(idInterval);
                  });*/
                   
            });
    </script>
	</head>
	<body>
            <div id="cube" class="vert">
                  <div>
		<noscript>
			<p>Veuillez activer JavaScript</p>
		</noscript>
	</body>
</html>
